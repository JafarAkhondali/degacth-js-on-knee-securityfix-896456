<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Календарь задач</title>
    <link rel="stylesheet" href="libs/uikit.css">
    <script src="libs/uikit.js"></script>
    <script src="libs/uikit-icons.js"></script>
    <script src="libs/vue.js"></script>
    <script src="libs/date-utils.js"></script>
    <style>
        .calendar-item {
            width: calc(100% / 7)
        }
    </style>
</head>
<body>
    <div id="app" class="uk-container uk-container-large">
        <calendar :date="calendarDate"></calendar>
    </div>

    <template id="calendarTpl">
        <calendar-selector :date="date" class="uk-margin-small"></calendar-selector>
        <div class="uk-flex uk-flex-wrap calendar">
            <div v-for="(_, i) in 7" class="calendar-item uk-text-uppercase">{{weekday(i)}}</div>
            <div v-for="day in days" class="calendar-item">
                <calendar-item :date="day" v-if="day"></calendar-item>
            </div>
        </div>
    </template>

    <template id="calendarSelectorTpl">
        <div class="uk-width-1-3">
            <button class="uk-margin-small-right" uk-icon="chevron-left" @click="prevMonth"></button>
            <span class="uk-text-bold uk-text-center uk-text-uppercase uk-width-1-6 uk-inline-block">{{getMonthTitle()}}</span>
            <button class="uk-margin-small-left" uk-icon="chevron-right" @click="nextMonth"></button>

            <button class="uk-margin-small-right" uk-icon="chevron-left" @click="prevYear"></button>
            <span class="uk-text-bold uk-text-center uk-text-uppercase uk-width-1-6 uk-inline-block">{{getYear()}}</span>
            <button class="uk-margin-small-left" uk-icon="chevron-right" @click="nextYear"></button>
        </div>
    </template>

    <template id="calendarItemTpl">
        <div class="uk-card uk-card-small uk-card-hover uk-margin-small-top" :class="itemClasses">
            <div class="uk-card-header">
                <div class="uk-card-title">
                    <button class="uk-icon-link" uk-icon="plus-circle"></button>
                    <span class="uk-float-right uk-text-bold">{{date.getDate()}}</span>
                </div>
            </div>
        </div>
    </template>

    <script src="state.js"></script>
    <script src="components/calendar-selector.js"></script>
    <script src="components/calendar-item.js"></script>
    <script src="components/calendar.js"></script>
    <script src="app.js"></script>
</body>
</html>
